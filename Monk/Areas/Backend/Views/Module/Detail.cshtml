@model V_ModuleVM
@{
    ViewBag.Title = ViewBag.HaviorInfo.Name + " - " + ViewBag.SysSetInfo.Name;
    Layout = ViewBag.HaviorInfo.Layout;
    ViewBag.Keywords = ViewBag.SysSetInfo.Keywords;
    ViewBag.Description = ViewBag.SysSetInfo.Description;
    ViewBag.Copyright = ViewBag.SysSetInfo.Copyright;
}
@section head{
    @Html.Raw(ViewBag.HaviorInfo.HeadCode)
}


@section crumbs{
    <label class="backend-crumbs-separator">/</label>
    <a href="#" title="系统管理">系统管理</a>
    <label class="backend-crumbs-separator">/</label>
    <a href="#" title="模块管理">模块管理</a>
    <label class="backend-crumbs-separator">/</label>
    <a href="#" title="系统栏目">系统栏目</a>
    <label class="backend-crumbs-separator">/</label>
    <a href="#" title="栏目信息">栏目信息</a>
}

<div class="monk-form-item">
    <label for="" class="monk-form-label">栏目名称</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @Model.Name
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">上级栏目</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @DataToHtmlHelper.NullHtml(Model.ParentName, "无")
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">栏目描述</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @DataToHtmlHelper.NullHtml(Model.Remark, "无")
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">排序数字</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @Model.Sort
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">标签属性</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @DataToHtmlHelper.NullHtml(Model.TagAttr, "无")
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">字体图标</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @Html.Raw(DataToHtmlHelper.GetIconfont(Model.Iconfont))
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">开放状态</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @Html.Raw(DataToHtmlHelper.StatusHtml(Model.Enable))
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">默认数据</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @Html.Raw(DataToHtmlHelper.StatusHtml(Model.Default))
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">创建时间</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @DataToHtmlHelper.NullHtml(Model.CreateTime, "无")
    </div>
</div>
<div class="monk-form-item">
    <label for="" class="monk-form-label">更新时间</label>
    <div class="monk-form-wrap monk-form-detail-wrap monk-full">
        @DataToHtmlHelper.NullHtml(Model.UpdateTime, "无")
    </div>
</div>

@section operate{
    <a href="@Url.Action("Update", "Module", new { id = Model.ModuleID })" class="monk-input-button turquoise">编辑数据</a>
    <a href="#" class="monk-input-button alizarin" onclick="deletes();">删除记录</a>
    <input type="reset" class="monk-input-button peterRiver" onclick="window.location.href = '@Url.Action("Select","Module")';" value="返回列表">
    <input type="button" class="monk-input-button orange monk-form-previous" value="返回前页" onclick="history.go(-1);">
}

@section foot{
    @Html.Raw(ViewBag.HaviorInfo.FootCode)
    <script type="text/javascript">
        function deletes() {
            var ids = "@Model.ModuleID";
            if (ids == "11111111-1111-1111-1111-111111111111") {
                backend.errorTip("顶级栏目禁止删除");
            }
            else {
                backend.confirm("您确定要执行此操作吗？", null, function (index) {
                    backend.post("@Url.Action("Delete","Module",new { })", { ids: "@Model.ModuleID" }, function (data) {
                        window.location.href = "@Url.Action("Select","Module")";
                    });
                });
            }
        }
    </script>
}